function d(n){let{canvas:t,c:e,frame:c,analyser:f,frequencyData:s}=n;c++,f.getByteFrequencyData(s);const a=Math.sqrt(s.length);e.fillStyle="#f5f5ed",e.fillRect(0,0,t.width,t.height),e.fillStyle="#e1dcd3",e.beginPath(),e.moveTo(0,0),e.lineTo(t.width,t.height),e.lineTo(0,t.height),e.closePath(),e.fill();for(let l=0;l<a;l++)for(let i=0;i<a;i++){const o=s[l*a+i];e.fillStyle="rgba("+String(Math.floor(o/1.25+Math.sin(c/8.5+i/20)*75))+","+String(Math.floor(o/1.25+Math.cos(c/10+l/10)*100))+","+String(Math.floor(o/1.25+Math.sin(c/12.5+i/15)*125))+",1)";const h=t.width/a,r=t.height/a;e.fillRect(l*h-o+255,i*r-o+255,h,r)}requestAnimationFrame(d.bind(this,n))}function g(n){n.canvas.width=400,n.canvas.height=400,document.body.classList.add("blocks");const t=document.createElement("style");t.attributes.type="text/css",t.innerHTML=`.canvas { left: calc(50% - ${canvas.width/2}px); }`,document.body.appendChild(t),d(n)}export{g as initialFunction,d as loopingFunction};
